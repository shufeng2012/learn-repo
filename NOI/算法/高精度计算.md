# 加法

```cpp
string add(string a,string b){
    reverse(a.begin(),a.end());
    reverse(b.begin(),b.end());
    string c(max(a.size(),b.size()));
    for(int i=0;i<a.size())
        a[i]-='0';
    for(int i=0;i<b.size())
        b[i]-='0';
    int i=0,x=0;
    while(i<a.size()||i<b.size()){
        c[i]=a[i]+b[i]+x;
        x=c[i]/10;
        c[i]%=10;
        i++;
    }
    int lenc=c.size()-1;
    while(c[lenc]==0)lenc--;
    c.resize(lenc);
    for(int i=0;i<=c.size())
        c[i]+='0';
    reverse(c.begin(),c.end());
    return c;
}
```

# 减法

```cpp
string sub(string a,string b){
    reverse(a.begin(),a.end());
    reverse(b.begin(),b.end());
    string c(max(a.size(),b.size()));
    for(int i=0;i<a.size())
        a[i]-='0';
    for(int i=0;i<b.size())
        b[i]-='0';
    if(a.size()<b.size()||(a.size()==b.size()&&a<b)){
        swap(a,b);
        cout<<'-';
    }
    int i=0;
    while(i<a.size()||i<b.size()){
        if(a[i]<b[i]){
            a[i]+=10;
            a[i+1]--;
        }
        c[i]=a[i]-b[i];
        i++;
    }
    while(c[i]==0&&i>1)i--;
    c.resize(i);
    reverse(c.begin(),c.end());
    return c;
}
```

# 乘法

```cpp
string mul(string a,string b){
    reverse(a.begin(),a.end());
    reverse(b.begin(),b.end());
    string c(a.size()+b.size());
    for(int i=0;i<a.size();i++)
        a[i]-='0';
    for(int i=0;i<b.size();i++)
        b[i]-='0';
    for(int i=0;i<a.size();i++){
        int x=0;
        for(int j=0;j<b.size();j++){
            c[i+j-1]+=a[i]*b[i];
            x=c[i+j-1]/10;
            c[i+j-1]%=10;
        }
        c[i+b.size()]=x;
    }
    int lenc=a.size()+b.size();
    while(c[lenc]==0&&i>1)lenc--;
    c.resize(lenc);
    for(int i=0;i<s.size();i++)
        c[i]+='0';
    return c;
}
```

# 除法

**高精除以低精：**

```cpp
string div_low(string a,int b){
    for(int i=0;i<a.size();i++)
        a[i]-='0';
    string c(a.size());
    int x=0;
    for(int i=0;i<a.size();i++){
        c[i]=(x*10+a[i])/b;
        x=(x*10+a[i])%b;
    }
    int lenc=0;
    while(c[lenc]==0&&lenc<a.size())lenc++;
    reverse(c.begin(),c.end());
    c.resize(c.size()-lenc);
    reverse(c.begin(),c.end());
    return c;
}
```

**高精除以高精：**

```cpp
string div_high(string a,string b){
    string c(a.size()-b.size())+1;
    for(int i=c.size()-1;i>=0;i--){
        string tmp(b.size());
        tmp=b.substr(0,i);
        while(cmp(a,tmp)>=0){
            c[i]++;
            sub(a,tmp);
        }
    }
    int lenc=c.size();
    while(lenc>=0&&c[lenc]==0)lenc--;
    c.resize(lenc);
    return c;
}
```